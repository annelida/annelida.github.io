---
layout: post
title: Python virtual environment
tagline: " at glance"
permalink: /python/virtual_env.html
categories: [Python, Virtual_evironment, Literate programming]
tags: [tutorial, virtualenv, methodology]
---

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org02019b3">Preamble</a>
<ul>
<li><a href="#org41b585d">Virtual Environment: Purpose and Intention</a></li>
<li><a href="#org41e74f5">PIP</a></li>
<li><a href="#orgc471646">SYS.PATH != $PYTHONPATH</a></li>
<li><a href="#orgf27f70f">The main utility is</a></li>
</ul>
</li>
<li><a href="#org9115eb5">Create the first one <code>venv</code>:</a></li>
<li><a href="#org42622c6">Activate <code>venv</code> Inside Emacs:</a></li>
<li><a href="#orgfe9e893">Check-up List of Packages:</a></li>
<li><a href="#org74a8b48">Check-up Theirs Folders:</a></li>
<li><a href="#org122e5cd">Deactivate <code>venv</code> Inside Emacs:</a></li>
<li><a href="#orgbb8c19b">How will bee looks <code>sys.path</code> when <code>venv</code> activated</a></li>
<li><a href="#org3b14caf">Conclusion:</a></li>
</ul>
</div>
</div>

<div id="outline-container-org02019b3" class="outline-2">
<h2 id="org02019b3">Preamble</h2>
<div class="outline-text-2" id="text-org02019b3">
</div>
<div id="outline-container-org41b585d" class="outline-3">
<h3 id="org41b585d">Virtual Environment: Purpose and Intention</h3>
<div class="outline-text-3" id="text-org41b585d">
<p>
A <b>Python Virtual Environment</b> is an isolated space where you can work
on your Python projects, separately from your system-installed
Python. You can set up your own libraries and dependencies without
affecting the system Python.
</p>

<p>
The purpose of the Virtual environment is creation an isolated from
the main operating system set of libraries that allow reproduce itself
on other workstations and execute Python code in the same environment.
</p>
</div>
</div>

<div id="outline-container-org41e74f5" class="outline-3">
<h3 id="org41e74f5">PIP</h3>
<div class="outline-text-3" id="text-org41e74f5">
<p>
The name pip is [an] acronym and declaration: <i>pip installs packages</i>.
</p>

<p>
PIP is a package-management system written in Python and is used to
install and manage software packages.
</p>

<div class="org-src-container">
<pre class="src src-sh">pip --version
</pre>
</div>

<pre class="example">
pip 23.0.1 from /usr/lib/python3/dist-packages/pip (python 3.11)
</pre>


<p>
Obviosly that the system wide packages for Python located in
in <i>usr/lib/python3</i>
</p>

<p>
But Python itself in another folder
</p>

<div class="org-src-container">
<pre class="src src-sh">which python3
</pre>
</div>

<pre class="example">
/usr/bin/python3
</pre>


<p>
Now we already has a list of pre-installed and ready to use Python
packages:
</p>
<div class="org-src-container">
<pre class="src src-sh">pip list
</pre>
</div>

<pre class="example" id="org47256da">
Package               Version
--------------------- --------------
appdirs               1.4.4
asttokens             2.2.1
attrs                 22.2.0
backcall              0.2.0
beautifulsoup4        4.11.2
beniget               0.4.1
blinker               1.5
Brlapi                0.8.4
Brotli                1.0.9
certifi               2022.9.24
chardet               5.1.0
charset-normalizer    3.0.1
contourpy             1.0.7
cryptography          38.0.4
cupshelpers           1.0
cycler                0.11.0
dbus-python           1.3.2
decorator             5.1.1
devscripts            2.23.4+deb12u1
distlib               0.3.6
distro                1.8.0
distro-info           1.5+deb12u1
docstring-to-markdown 0.11
executing             1.2.0
filelock              3.9.0
flake8                5.0.4
fonttools             4.38.0
fs                    2.4.16
gast                  0.5.2
gbp                   0.9.30
gpg                   1.18.0
html5lib              1.1
httplib2              0.20.4
idna                  3.3
ipython               8.5.0
jedi                  0.18.2
kiwisolver            0.0.0
lazr.restfulclient    0.14.5
lazr.uri              1.0.6
louis                 3.24.0
lxml                  4.9.2
lz4                   4.0.2+dfsg
Mako                  1.2.4.dev0
Markdown              3.4.1
MarkupSafe            2.1.2
matplotlib            3.6.3
matplotlib-inline     0.1.6
mccabe                0.7.0
mpmath                0.0.0
numpy                 1.24.2
oauthlib              3.2.2
olefile               0.46
packaging             23.0
parso                 0.8.3
pbr                   5.10.0
pexpect               4.8.0
pickleshare           0.7.5
Pillow                9.4.0
pip                   23.0.1
platformdirs          2.6.0
pluggy                1.0.0+repack
ply                   3.11
prompt-toolkit        3.0.36
ptyprocess            0.7.0
pure-eval             0.0.0
pycairo               1.20.1
pycodestyle           2.10.0
pycups                2.0.1
pyflakes              2.5.0
Pygments              2.14.0
PyGObject             3.42.2
PyJWT                 2.6.0
pyparsing             3.0.9
pysmbc                1.0.23
python-apt            2.6.0
python-dateutil       2.8.2
python-debian         0.1.49
python-lsp-jsonrpc    1.0.0
python-lsp-server     1.7.1
python-magic          0.4.26
pythran               0.11.0
pytz                  2022.7.1
pyxdg                 0.28
PyYAML                6.0
requests              2.28.1
scipy                 1.10.1
setuptools            66.1.1
six                   1.16.0
soupsieve             2.3.2
stack-data            0.6.2
stevedore             4.0.2
sympy                 1.11.1
traitlets             5.5.0
ufoLib2               0.14.0
ujson                 5.7.0
unidiff               0.7.3
urllib3               1.26.12
virtualenv            20.17.1+ds
virtualenv-clone      0.3.0
virtualenvwrapper     4.8.4
wadllib               1.3.6
wcwidth               0.2.5
webencodings          0.5.1
wheel                 0.38.4
xdg                   5
</pre>

<p>
Without using VENV all packages that PIP installed are located in the
folder <i>usr/lib/python3/dist-packages</i>
</p>

<div class="org-src-container">
<pre class="src src-sh">tree -L 1 /usr/lib/python3/dist-packages/
</pre>
</div>

<pre class="example" id="orgc13ecf0">
/usr/lib/python3/dist-packages/
├── appdirs-1.4.4.egg-info
├── appdirs.py
├── apt
├── apt_inst.cpython-311-x86_64-linux-gnu.so
├── apt_inst-stubs
├── apt_pkg.cpython-311-x86_64-linux-gnu.so
├── apt_pkg-stubs
├── aptsources
├── asttokens
├── asttokens-2.2.1.egg-info
├── attr
├── attrs
├── attrs-22.2.0.dist-info
├── backcall
├── backcall-0.2.0.dist-info
├── beautifulsoup4-4.11.2.egg-info
├── beniget
├── beniget-0.4.1.egg-info
├── blinker
├── blinker-1.5.dist-info
├── Brlapi-0.8.4.egg-info
├── brlapi.cpython-311-x86_64-linux-gnu.so
├── Brotli-1.0.9.egg-info
├── _brotli.cpython-311-x86_64-linux-gnu.so
├── brotli.py
├── bs4
├── cairo
├── certifi
├── certifi-2022.9.24.egg-info
├── _cffi_backend.cpython-311-x86_64-linux-gnu.so
├── chardet
├── chardet-5.1.0.dist-info
├── charset_normalizer
├── charset_normalizer-3.0.1.dist-info
├── clonevirtualenv.py
├── contourpy
├── contourpy-1.0.7.dist-info
├── cryptography
├── cryptography-38.0.4.dist-info
├── cryptography.egg-info
├── cups.cpython-311-x86_64-linux-gnu.so
├── cupshelpers
├── cupshelpers-1.0-py3.10.egg-info
├── cycler-0.11.0.egg-info
├── cycler.py
├── dateutil
├── dbus
├── _dbus_bindings.cpython-311-x86_64-linux-gnu.so
├── _dbus_glib_bindings.cpython-311-x86_64-linux-gnu.so
├── dbus_python-1.3.2.egg-info
├── deb822.py
├── debian
├── debian_bundle
├── decorator-5.1.1.egg-info
├── decorator.py
├── devscripts
├── devscripts-2.23.4+deb12u1.egg-info
├── distlib
├── distlib-0.3.6.egg-info
├── distro
├── distro-1.8.0.dist-info
├── distro_info-1.5+deb12u1.egg-info
├── distro_info.py
├── _distutils_hack
├── distutils-precedence.pth
├── docstring_to_markdown
├── docstring_to_markdown-0.11.egg-info
├── executing
├── executing-1.2.0.dist-info
├── filelock
├── filelock-3.9.0.dist-info
├── flake8
├── flake8-5.0.4.egg-info
├── fontTools
├── fonttools-4.38.0.egg-info
├── fs
├── fs-2.4.16.egg-info
├── gast
├── gast-0.5.2.egg-info
├── gbp
├── gbp-0.9.30.egg-info
├── gi
├── gnome_browser_connector
├── gnomemusic
├── gpg
├── gpg-1.18.0-py3.11.egg-info
├── gtweak
├── html5lib
├── html5lib-1.1.egg-info
├── httplib2
├── httplib2-0.20.4.dist-info
├── idna
├── idna-3.3.egg-info
├── IPython
├── ipython-8.5.0.dist-info
├── isympy.py
├── jedi
├── jedi-0.18.2.egg-info
├── jwt
├── kiwisolver
├── kiwisolver-0.0.0.dist-info
├── lazr
├── lazr.restfulclient-0.14.5.egg-info
├── lazr.uri-1.0.6.egg-info
├── libvoikko.py
├── louis
├── louis-3.24.0.egg-info
├── lxml
├── lxml-4.9.2.egg-info
├── lz4
├── lz4-4.0.2+dfsg.egg-info
├── magic
├── mako
├── Mako-1.2.4.dev0.egg-info
├── markdown
├── Markdown-3.4.1.egg-info
├── markupsafe
├── MarkupSafe-2.1.2.egg-info
├── matplotlib
├── matplotlib-3.6.3.egg-info
├── matplotlib-3.6.3-nspkg.pth
├── matplotlib_inline
├── matplotlib_inline-0.1.6.egg-info
├── mccabe-0.7.0.egg-info
├── mccabe.py
├── mpl_toolkits
├── mpmath
├── mpmath-0.0.0.egg-info
├── numpy
├── numpy-1.24.2.egg-info
├── oauthlib
├── oauthlib-3.2.2.egg-info
├── olefile
├── olefile-0.46.egg-info
├── omp
├── orca
├── packaging
├── packaging-23.0.dist-info
├── parso
├── parso-0.8.3.egg-info
├── pbr
├── pbr-5.10.0.egg-info
├── pexpect
├── pexpect-4.8.0.egg-info
├── pickleshare-0.7.5.egg-info
├── pickleshare.py
├── PIL
├── Pillow-9.4.0.egg-info
├── pip
├── pip-23.0.1.dist-info
├── pkg_resources
├── platformdirs
├── platformdirs-2.6.0.dist-info
├── pluggy
├── pluggy-1.0.0+repack.egg-info
├── ply
├── ply-3.11.egg-info
├── prompt_toolkit
├── prompt_toolkit-3.0.36.egg-info
├── ptyprocess
├── ptyprocess-0.7.0.dist-info
├── pure_eval
├── pure_eval-0.0.0.dist-info
├── pyatspi
├── __pycache__
├── pycairo-1.20.1.egg-info
├── pycodestyle-2.10.0.egg-info
├── pycodestyle.py
├── pycups-2.0.1.egg-info
├── pyflakes
├── pyflakes-2.5.0.egg-info
├── pygments
├── Pygments-2.14.0.egg-info
├── PyGObject-3.42.2.egg-info
├── pygtkcompat
├── PyJWT-2.6.0.egg-info
├── pylab.py
├── pylsp
├── pylsp_jsonrpc
├── pyparsing
├── pyparsing-3.0.9.dist-info
├── pysmbc-1.0.23.egg-info
├── python_apt-2.6.0.egg-info
├── python_dateutil-2.8.2.egg-info
├── python_debian-0.1.49.egg-info
├── python_lsp_jsonrpc-1.0.0.egg-info
├── python_lsp_server-1.7.1.dist-info
├── python_magic-0.4.26.egg-info
├── pythran
├── pythran-0.11.0.egg-info
├── pytz
├── pytz-2022.7.1.egg-info
├── pyxdg-0.28.dist-info
├── PyYAML-6.0.dist-info
├── requests
├── requests-2.28.1.egg-info
├── scipy
├── scipy-1.10.1.dist-info
├── setuptools
├── setuptools-66.1.1.egg-info
├── six-1.16.0.egg-info
├── six.py
├── smbc
├── _smbc.cpython-311-x86_64-linux-gnu.so
├── softwareproperties
├── soupsieve
├── soupsieve-2.3.2.dist-info
├── speechd
├── speechd_config
├── stack_data
├── stack_data-0.6.2.dist-info
├── stevedore
├── stevedore-4.0.2.egg-info
├── sympy
├── sympy-1.11.1.egg-info
├── traitlets
├── traitlets-5.5.0.dist-info
├── ufoLib2
├── ufoLib2-0.14.0.dist-info
├── ujson-5.7.0.egg-info
├── ujson.cpython-311-x86_64-linux-gnu.so
├── unidiff
├── unidiff-0.7.3.egg-info
├── unohelper.py
├── uno.py
├── urllib3
├── urllib3-1.26.12.egg-info
├── virtualenv
├── virtualenv-20.17.1+ds.dist-info
├── virtualenv_clone-0.3.0.egg-info
├── virtualenvwrapper
├── virtualenvwrapper-4.8.4.egg-info
├── virtualenvwrapper-4.8.4-nspkg.pth
├── wadllib
├── wadllib-1.3.6.egg-info
├── wcwidth
├── wcwidth-0.2.5.egg-info
├── webencodings
├── webencodings-0.5.1.egg-info
├── wheel
├── wheel-0.38.4.egg-info
├── xdg
├── xdg-5.egg-info
├── _yaml
└── yaml

209 directories, 37 files
</pre>
</div>
</div>

<div id="outline-container-orgc471646" class="outline-3">
<h3 id="orgc471646">SYS.PATH != $PYTHONPATH</h3>
<div class="outline-text-3" id="text-orgc471646">
<p>
Check up pristine <code>sys.path</code>:
</p>

<div class="org-src-container">
<pre class="src src-python">import sys
print(sys.path)
</pre>
</div>

<pre class="example">
['', '/usr/lib/python311.zip', '/usr/lib/python3.11', '/usr/lib/python3.11/lib-dynload', '/usr/local/lib/python3.11/dist-packages', '/usr/lib/python3/dist-packages', '/usr/lib/python3.11/dist-packages']
</pre>
</div>
</div>

<div id="outline-container-orgf27f70f" class="outline-3">
<h3 id="orgf27f70f">The main utility is</h3>
<div class="outline-text-3" id="text-orgf27f70f">
<p>
Yes, it's possible to do it via <code>python3 -m venv</code>, but:
</p>

<div class="org-src-container">
<pre class="src src-sh">virtualenv --version
</pre>
</div>

<pre class="example">
virtualenv 20.17.1+ds from /usr/lib/python3/dist-packages/virtualenv/__init__.py
</pre>


<p>
It's already installed into the system.
</p>
</div>
</div>
</div>

<div id="outline-container-org9115eb5" class="outline-2">
<h2 id="org9115eb5">Create the first one <code>venv</code>:</h2>
<div class="outline-text-2" id="text-org9115eb5">
<p>
For sake of convenience lets create the folder for all <code>user</code>
<i>virtualenvironments</i>:
</p>


<div class="org-src-container">
<pre class="src src-sh">mkdir ~/.local/venvs
ls -la ~/.local/
</pre>
</div>

<pre class="example">
total 20
drwx------  5 vikky vikky 4096 Apr 19 13:20 .
drwx------ 18 vikky vikky 4096 Apr 19 07:57 ..
drwx------ 18 vikky vikky 4096 Apr 15 19:12 share
drwx------  3 vikky vikky 4096 Dec  8 13:38 state
drwxr-xr-x  2 vikky vikky 4096 Apr 19 13:20 venvs
</pre>


<p>
Now it's time to create our first <code>venv</code> inside this folder using
Debian-native <code>virtualenv</code> :
</p>

<div class="org-src-container">
<pre class="src src-sh">virtualenv ~/.local/venvs/ViEnv0.1
ls ~/.local/venvs
</pre>
</div>

<pre class="example">
created virtual environment CPython3.11.2.final.0-64 in 205ms
  creator CPython3Posix(dest=/home/vikky/.local/venvs/ViEnv0.1, clear=False, no_vcs_ignore=False, global=False)
  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/home/vikky/.local/share/virtualenv)
    added seed packages: pip==23.0.1, setuptools==66.1.1, wheel==0.38.4
  activators BashActivator,CShellActivator,FishActivator,NushellActivator,PowerShellActivator,PythonActivator
ViEnv0.1
</pre>
</div>
</div>

<div id="outline-container-org42622c6" class="outline-2">
<h2 id="org42622c6">Activate <code>venv</code> Inside Emacs:</h2>
<div class="outline-text-2" id="text-org42622c6">
<div class="org-src-container">
<pre class="src src-elisp">(pyvenv-activate "~/.local/venvs/ViEnv0.1")
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfe9e893" class="outline-2">
<h2 id="orgfe9e893">Check-up List of Packages:</h2>
<div class="outline-text-2" id="text-orgfe9e893">
<div class="org-src-container">
<pre class="src src-sh">pip list
</pre>
</div>

<pre class="example">
Package    Version
---------- -------
pip        23.0.1
setuptools 66.1.1
wheel      0.38.4
</pre>
</div>
</div>

<div id="outline-container-org74a8b48" class="outline-2">
<h2 id="org74a8b48">Check-up Theirs Folders:</h2>
<div class="outline-text-2" id="text-org74a8b48">
<div class="org-src-container">
<pre class="src src-sh">tree -L 1 ~/.local/venvs/ViEnv0.1/bin/
</pre>
</div>

<pre class="example" id="org38dde12">
/home/vikky/.local/venvs/ViEnv0.1/bin/
├── activate
├── activate.csh
├── activate.fish
├── activate.nu
├── activate.ps1
├── activate_this.py
├── pip
├── pip3
├── pip-3.11
├── pip3.11
├── python -&gt; /usr/bin/python3
├── python3 -&gt; python
├── python3.11 -&gt; python
├── wheel
├── wheel3
├── wheel-3.11
└── wheel3.11

1 directory, 17 files
</pre>
</div>
</div>

<div id="outline-container-org122e5cd" class="outline-2">
<h2 id="org122e5cd">Deactivate <code>venv</code> Inside Emacs:</h2>
<div class="outline-text-2" id="text-org122e5cd">
<div class="org-src-container">
<pre class="src src-elisp">(pyvenv-deactivate)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbb8c19b" class="outline-2">
<h2 id="orgbb8c19b">How will bee looks <code>sys.path</code> when <code>venv</code> activated</h2>
<div class="outline-text-2" id="text-orgbb8c19b">
<p>
When <code>venv</code> is not activated <code>sys.path</code> looks:
</p>

<div class="org-src-container">
<pre class="src src-python">import sys
print(sys.path)
</pre>
</div>

<pre class="example">
['', '/usr/lib/python311.zip', '/usr/lib/python3.11', '/usr/lib/python3.11/lib-dynload',
'/usr/local/lib/python3.11/dist-packages', '/usr/lib/python3/dist-packages',
'/usr/lib/python3.11/dist-packages']
</pre>


<p>
When <code>venv</code> is activated
</p>

<div class="org-src-container">
<pre class="src src-python">import sys
print(sys.path)
</pre>
</div>

<pre class="example">
['', '/usr/lib/python311.zip', '/usr/lib/python3.11', '/usr/lib/python3.11/lib-dynload',
'/home/vikky/.local/venvs/ViEnv0.1/lib/python3.11/site-packages']
</pre>
</div>
</div>

<div id="outline-container-org3b14caf" class="outline-2">
<h2 id="org3b14caf">Conclusion:</h2>
<div class="outline-text-2" id="text-org3b14caf">
<p>
The benefits of using virtual environments in Python projects are
numerous and essential for efficient and organized development
processes. Some key advantages include:
</p>

<ul class="org-ul">
<li>Dependency Isolation: Virtual environments ensure that packages
installed for one project do not interfere with those installed for
others, preventing version conflicts and ensuring the correct
package versions are used;</li>

<li>Reproducibility: Virtual environments specify exact package versions
used in a project, making it easier for other developers to recreate
the same environment and ensure consistent behavior;</li>

<li><p>
Project Portability: Virtual environments can be easily moved or
copied to different machines, enabling developers to work on the
same project in different environments without worrying about
package installation or dependency issues;
</p>

<p>
In summary, virtual environments in Python offer a structured and
efficient way to manage dependencies, ensure reproducibility,
simplify collaboration, and maintain a clean and stable development
environment.
</p>

<p>
The main widely using ways to install and use Python virtual
environments are:
</p>

<ul class="org-ul">
<li>Using the <code>venv</code> module;</li>
<li>Using <code>virtualenv</code>.</li>
</ul></li>
</ul>
</div>
</div>
